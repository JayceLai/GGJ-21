System.register("chunks:///_virtual/ContactPointHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var n,t,i,e,r,a,l,s,c,f,u,p,_,h;return{setters:[function(o){n=o.defineProperty,t=o.inheritsLoose,i=o.assertThisInitialized},function(o){e=o.cclegacy,r=o._decorator,a=o.Quat,l=o.loader,s=o.Prefab,c=o.Node,f=o.game,u=o.ColliderComponent,p=o.Vec3,_=o.instantiate,h=o.Component}],execute:function(){var d,C,g;e._RF.push({},"276fcld+b5O8qjGJZTPQFke","ContactPointHelper",void 0);var v=r.ccclass,y=(r.property,r.menu),P=new a;o("ContactPointHelper",v("COMMON.ContactPointHelper")(d=y("common/ContactPointHelper")((g=C=function(o){function e(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,n(i(t),"_entityMap",new Map),t}t(e,o);var r=e.prototype;return r.__preload=function(){null!=e._point||1&e._flag||(e._flag|=1,l.loadRes("common/prefabs/Point",s,(function(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];n&&(n[0]?console.error(n[0]):e._point=n[1])}))),null!=e._arrow||2&e._flag||(e._flag|=2,l.loadRes("common/prefabs/Arrow",s,(function(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];n&&(n[0]?console.error(n[0]):e._arrow=n[1])}))),null==e._container&&(e._container=new c("__CONTACT_POINT__"),f.addPersistRootNode(e._container))},r.onLoad=function(){e._insArr.push(this)},r.onEnable=function(){var o=this.getComponents(u),n=this;o.forEach((function(o){o.on("onCollisionEnter",n.onCollision,n),o.on("onCollisionStay",n.onCollision,n),o.on("onCollisionExit",n.onCollision,n)}))},r.onDisable=function(){var o=this.getComponents(u),n=this;o.forEach((function(o){o.off("onCollisionEnter",n.onCollision,n),o.off("onCollisionStay",n.onCollision,n),o.off("onCollisionExit",n.onCollision,n)}))},r.onCollision=function(o){if(e._point&&e._arrow){this._entityMap.has(o.otherCollider.uuid)||this._entityMap.set(o.otherCollider.uuid,{pt:[],aw:[]});var n=this._entityMap.get(o.otherCollider.uuid);n.pt.forEach((function(o){o.active=!1})),n.aw.forEach((function(o){o.active=!1})),o.contacts.forEach((function(o,t){var i,r,l=new p,s=new p;o.isBodyA?(o.getWorldPointOnA(l),o.getWorldNormalOnB(s)):(o.getWorldPointOnB(l),o.getWorldNormalOnA(s)),n.pt.length>t?(i=n.pt[t],r=n.aw[t],i.active=!0,r.active=!0):((i=_(e._point)).setWorldScale(.25,.25,.25),i.setParent(e._container),(r=_(e._arrow)).setParent(e._container),n.pt.push(i),n.aw.push(r)),i.setWorldPosition(l),r.setWorldPosition(l),a.rotationTo(P,p.UNIT_Z,s),r.setWorldRotation(P)}))}},r.onDestroy=function(){var o=e._insArr.indexOf(this);o>=0&&e._insArr.splice(o,1),this._entityMap.forEach((function(o){o.pt.forEach((function(o){o.removeFromParent(),o.destroy()})),o.aw.forEach((function(o){o.removeFromParent(),o.destroy()}))}))},e}(h),n(C,"_point",null),n(C,"_arrow",null),n(C,"_flag",0),n(C,"_insArr",[]),n(C,"_container",null),d=g))||d)||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/RigidCharacterController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RigidCharacter.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,c,l,h,u,p,y,f,m,_,g,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,l=e.SystemEvent,h=e.Quat,u=e.Vec3,p=e.Node,y=e.Vec2,f=e.systemEvent,m=e.macro,_=e.director,g=e.clamp,b=e.Component},function(e){d=e.RigidCharacter}],execute:function(){var v,C,w,E,T,S,K,R,z,D,k,Y,F,x,O,J,X,A,I,M,U,Z,j,P;s._RF.push({},"2f54f4Nux1Jwb11ViTNgGqn","RigidCharacterController",void 0);var N,G=c.ccclass,H=c.property,V=c.menu,q=l.EventType;!function(e){e[e.CT_ROTATE=2]="CT_ROTATE",e[e.CT_JUMP=4]="CT_JUMP",e[e.CT_RUSH=16]="CT_RUSH"}(N||(N={}));var B=new h,L=new u;e("RigidCharacterController",(v=G("Character.RigidCharacterController"),C=V("demo/character/RigidCharacterController"),w=H(d),E=H({type:p}),T=H({type:p}),v(S=C((R=t((K=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"character",R,n(t)),r(n(t),"currentOrient",z,n(t)),r(n(t),"targetOrient",D,n(t)),r(n(t),"rotateFactor",k,n(t)),r(n(t),"rotateEnable",Y,n(t)),r(n(t),"moveEnable",F,n(t)),r(n(t),"moveFrameInterval",x,n(t)),r(n(t),"moveInAir",O,n(t)),r(n(t),"moveConstant",J,n(t)),r(n(t),"inverseXZ",X,n(t)),r(n(t),"negativeX",A,n(t)),r(n(t),"moveSpeed",I,n(t)),r(n(t),"maxMoveSpeed",M,n(t)),r(n(t),"flyThreshold",U,n(t)),r(n(t),"sencondaryJumpImpulse",Z,n(t)),r(n(t),"gravity",j,n(t)),r(n(t),"jumpRate",P,n(t)),a(n(t),"_constraint",0),a(n(t),"_jumping",!1),a(n(t),"_flying",0),a(n(t),"_stateX",0),a(n(t),"_stateZ",0),a(n(t),"_isShiftDown",!1),a(n(t),"_isAltDown",!1),a(n(t),"_isSpaceDown",!1),a(n(t),"_isCancelFlying",!1),a(n(t),"_startAccelerationTime",0),a(n(t),"_JumpRefreshTime",0),t}i(t,e);var s=t.prototype;return s.onEnable=function(){f.on(q.KEY_DOWN,this.onKeyDown,this),f.on(q.KEY_UP,this.onKeyUp,this)},s.onDisable=function(){f.off(q.KEY_DOWN,this.onKeyDown,this),f.off(q.KEY_UP,this.onKeyUp,this)},s.onKeyDown=function(e){e.keyCode==m.KEY.w?this._stateZ=1:e.keyCode==m.KEY.s?this._stateZ=-1:e.keyCode==m.KEY.a?this._stateX=1:e.keyCode==m.KEY.d?this._stateX=-1:e.keyCode==m.KEY.space?this._isSpaceDown=!0:e.keyCode==m.KEY.shift?this._isShiftDown=!0:e.keyCode==m.KEY.alt&&(this._isAltDown=!0)},s.onKeyUp=function(e){e.keyCode==m.KEY.w||e.keyCode==m.KEY.s?this._stateZ=0:e.keyCode==m.KEY.d||e.keyCode==m.KEY.a?this._stateX=0:e.keyCode==m.KEY.space?(this._isSpaceDown=!1,this._isCancelFlying=!0):e.keyCode==m.KEY.shift?this._isShiftDown=!1:e.keyCode==m.KEY.alt&&(this._isAltDown=!1)},s.update=function(e){this.updateCharacter(1e3/60),this._isSpaceDown=!1},s.updateCharacter=function(e){if(this.character.updateFunction(e),this.character.onGround&&(this._JumpRefreshTime-=e,this._JumpRefreshTime<0&&(this._jumping&&(this._constraint=0),this._jumping=!1,this._JumpRefreshTime=0),this._flying=0,this.character.gravity=this.gravity.x,this.character.maxSpeed=this.maxMoveSpeed.x),this._isSpaceDown?this._constraint&N.CT_JUMP?0===this._flying&&this.canFly&&(this._flying=1,this._isCancelFlying=!1,this.character.gravity=this.gravity.y,this.character.maxSpeed=this.maxMoveSpeed.y,this.character.rigidBody.applyImpulse(this.sencondaryJumpImpulse)):(this.character.jump(0),this._jumping=!0,this._JumpRefreshTime=this.jumpRate,this._constraint|=N.CT_JUMP):1===this._flying&&(this._isCancelFlying||this.character.contacted)&&(this._flying=2,this.character.gravity=this.gravity.x,this.character.maxSpeed=this.maxMoveSpeed.x),this.rotateEnable&&!(this._constraint&N.CT_ROTATE||this._isAltDown)){var t=this.currentOrient.rotation,i=this.targetOrient.rotation;h.equals(t,i)||(h.slerp(B,t,i,this.rotateFactor),this.currentOrient.worldRotation=B)}if(this.moveEnable&&_.getTotalFrames()%this.moveFrameInterval==0){if(!this.moveInAir&&!this.character.onGround&&1!==this._flying)return;if(this.moveConstant&&(this._stateX=this.negativeX?-1:1),this._stateX||this._stateZ)if(this.inverseXZ?L.set(this._stateZ,0,-this._stateX):L.set(this._stateX,0,this._stateZ),L.normalize(),L.negative(),this.rotateEnable){this.targetOrient.forward=L,L.set(this.currentOrient.forward),L.negative();var r=this.currentOrient.rotation,n=this.targetOrient.rotation,a=g(this.rotationScalar(r,n),0,1);this.character.move(L,this.moveSpeed*a)}else this.character.move(L,this.moveSpeed)}},s.rotationScalar=function(e,t){return Math.abs(e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w)},s.onClickJump=function(){this._isSpaceDown=!0},o(t,[{key:"isFlying",get:function(){return this._flying}},{key:"canFly",get:function(){return this.flyThreshold>this.character.velocity.y}}]),t}(b)).prototype,"character",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(K.prototype,"currentOrient",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(K.prototype,"targetOrient",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(K.prototype,"rotateFactor",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Y=t(K.prototype,"rotateEnable",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=t(K.prototype,"moveEnable",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(K.prototype,"moveFrameInterval",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),O=t(K.prototype,"moveInAir",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=t(K.prototype,"moveConstant",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=t(K.prototype,"inverseXZ",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=t(K.prototype,"negativeX",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=t(K.prototype,"moveSpeed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(K.prototype,"maxMoveSpeed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(5,10)}}),U=t(K.prototype,"flyThreshold",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Z=t(K.prototype,"sencondaryJumpImpulse",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,10,0)}}),j=t(K.prototype,"gravity",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(-20,-10)}}),P=t(K.prototype,"jumpRate",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),S=K))||S)||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/RigidCharacter.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,r,a,l,s,c,u,h,p,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized,r=t.defineProperty,a=t.createClass},function(t){l=t.cclegacy,s=t._decorator,c=t.Vec3,u=t.RigidBody,h=t.Collider,p=t.Component,d=t.PhysicsSystem}],execute:function(){var g,y,m,f,_,C,b,v,S,w,B,P,R,z,L,D,V,A;l._RF.push({},"596fbIiY9ZBDI5y66x8iDSP","RigidCharacter",void 0);var j=s.ccclass,x=s.property,M=s.requireComponent,F=s.menu,I=new c,k=function(){function t(){r(this,"point",new c),r(this,"normal",new c)}return t.prototype.assign=function(t,i){return t.isBodyA?(t.getWorldNormalOnB(this.normal),t.getWorldPointOnA(this.point)):(t.getWorldNormalOnA(this.normal),t.getWorldPointOnB(this.point)),this.collider=i,this},t}(),H=[],N=function(){function t(){}return t.getContacts=function(t,i,e){for(var n=0;n<t.length;n++)e.push(this.getContact(t[n],i))},t.getContact=function(t,i){return(H.length>0?H.pop():new k).assign(t,i)},t.recyContacts=function(t){var i;(i=Array.prototype.push).call.apply(i,[H].concat(t)),t.length=0},t}(),O=j("Character.JumpParam")((m=i((y=function(){e(this,"perpRatio",m,this),e(this,"steepPerpRatio",f,this),e(this,"height",_,this),e(this,"maxHeight",C,this)}).prototype,"perpRatio",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=i(y.prototype,"steepPerpRatio",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=i(y.prototype,"height",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=i(y.prototype,"maxHeight",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),g=y))||g;t("RigidCharacter",(b=j("Character.RigidCharacter"),v=F("demo/character/RigidCharacter"),S=M(u),w=x(O),b(B=v(B=S((R=i((P=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,e(o(i),"maxSpeed",R,o(i)),e(o(i),"damping",z,o(i)),e(o(i),"slopeLimit",L,o(i)),e(o(i),"bullet",D,o(i)),e(o(i),"gravity",V,o(i)),e(o(i),"jumpParam",A,o(i)),r(o(i),"_rigidBody",null),r(o(i),"_collider",null),r(o(i),"_grounded",!0),r(o(i),"_toSteep",!1),r(o(i),"_contacted",!1),r(o(i),"_contacts",[]),r(o(i),"_groundContact",null),r(o(i),"_groundNormal",c.UP.clone()),r(o(i),"_velocity",new c),r(o(i),"_jumpDir",new c),i}n(i,t);var l=i.prototype;return l.start=function(){this._rigidBody=this.getComponent(u),this._collider=this.getComponent(h),this._collider.on("onCollisionEnter",this.onCollision,this),this._collider.on("onCollisionStay",this.onCollision,this),this._collider.on("onCollisionExit",this.onCollision,this),this.bullet&&function(t,i,e){void 0===i&&(i=.001);void 0===e&&(e=.05);if(t)if(d.PHYSICS_AMMO){var n=window.Ammo,o=t.body.impl;o.useCCD=!0;var r=n.castObject(o,n.btCollisionObject);r.wrapped=t.body,r.useCCD=!0,o.setCcdMotionThreshold(i),o.setCcdSweptSphereRadius(e)}else d.PHYSICS_PHYSX&&t.body.useCCD(e>0)}(this._rigidBody)},l.move=function(t,i){this._rigidBody.getLinearVelocity(I);var e=I.y;c.scaleAndAdd(I,I,t,i),I.y=0;var n=this.maxSpeed;I.lengthSqr()>n&&(I.normalize(),I.multiplyScalar(n)),I.y=e,this._rigidBody.setLinearVelocity(I.multiply(this._rigidBody.linearFactor))},l.jump=function(t){var i=this.jumpParam,e=this._jumpDir;this.toSteep?c.lerp(e,c.UP,this._groundNormal,i.steepPerpRatio):c.lerp(e,c.UP,this._groundNormal,i.perpRatio);var n=this.calculateJumpVerticalSpeed(i.height+(i.maxHeight-i.height)*t);this._rigidBody.getLinearVelocity(I),c.scaleAndAdd(I,I,e,n),this._rigidBody.setLinearVelocity(I.multiply(this._rigidBody.linearFactor))},l.rush=function(){},l.updateFunction=function(t){this.saveState(),this.updateContactInfo(),this.applyGravity(),this.applyDamping()},l.applyDamping=function(t){void 0===t&&(t=1/60),this.damping&&(this._rigidBody.getLinearVelocity(I),I.multiplyScalar(Math.pow(1-this.damping,t)),this._rigidBody.setLinearVelocity(I.multiply(this._rigidBody.linearFactor)))},l.applyGravity=function(){var t=this.gravity,i=this._rigidBody.mass;I.set(0,i*t,0),this._rigidBody.applyForce(I)},l.saveState=function(){this._rigidBody.getLinearVelocity(this._velocity)},l.getVelocity=function(t){this._rigidBody.getLinearVelocity(t)},l.updateContactInfo=function(){this._grounded=!1,this._contacted=!1,this._groundContact=null;for(var t=this.node.worldPosition,i=-.001,e=0;e<this._contacts.length;e++){this._contacted=!0;var n=this._contacts[e],o=n.normal,r=n.point;o.y<=1e-4||o.y>i&&r.y<t.y-.25&&(this._grounded=!0,i=o.y,this._groundContact=n)}this._grounded?(c.copy(this._groundNormal,this._groundContact.normal),this._toSteep=this._groundContact.normal.y<=Math.cos(this.slopeLimit*Math.PI/180)):(c.copy(this._groundNormal,c.UP),this._toSteep=!1),N.recyContacts(this._contacts)},l.calculateJumpVerticalSpeed=function(t){return Math.sqrt(2*t*Math.abs(this.gravity))},l.onCollision=function(t){N.getContacts(t.contacts,t.selfCollider,this._contacts)},a(i,[{key:"rigidBody",get:function(){return this._rigidBody}},{key:"onGround",get:function(){return this._grounded}},{key:"velocity",get:function(){return this._velocity}},{key:"toSteep",get:function(){return this._toSteep}},{key:"isFalling",get:function(){return this._velocity.y<-1e-7}},{key:"contacted",get:function(){return this._contacted}}]),i}(p)).prototype,"maxSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),z=i(P.prototype,"damping",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=i(P.prototype,"slopeLimit",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),D=i(P.prototype,"bullet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=i(P.prototype,"gravity",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-20}}),A=i(P.prototype,"jumpParam",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),B=P))||B)||B)||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/AxisHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,e,r,s,t,o,a,c,l;return{setters:[function(n){i=n.defineProperty,e=n.inheritsLoose,r=n.assertThisInitialized},function(n){s=n.cclegacy,t=n._decorator,o=n.loader,a=n.Prefab,c=n.instantiate,l=n.Component}],execute:function(){var u,_,h;s._RF.push({},"5bb94205NtNprcLIythUQv4","AxisHelper",void 0);var p=t.ccclass,f=(t.property,t.menu);n("AxisHelper",p("COMMON.AxisHelper")(u=f("common/AxisHelper")((h=_=function(n){function s(){for(var e,s=arguments.length,t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];return e=n.call.apply(n,[this].concat(t))||this,i(r(e),"_ins",null),e}e(s,n);var t=s.prototype;return t.__preload=function(){null==s._axis&&o.loadRes("common/prefabs/Axis",a,(function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];i&&(i[0]?console.error(i[0]):(s._axis=i[1],s._insArr.forEach((function(n){!n._ins&&n.enabled&&n.enabledInHierarchy&&n.node.active&&n.node.activeInHierarchy&&n.onEnable()}))))}))},t.onLoad=function(){s._insArr.push(this)},t.onEnable=function(){s._axis&&(null==this._ins&&(this._ins=c(s._axis),this.node.addChild(this._ins)),this._ins.active=!0)},t.onDisable=function(){this._ins&&(this._ins.active=!1)},t.onDestroy=function(){var n=s._insArr.indexOf(this);n>=0&&s._insArr.splice(n,1)},s}(l),i(_,"_axis",null),i(_,"_insArr",[]),u=h))||u)||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/ForceField.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,r,o,t,n,l,s,c,a,h,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.inheritsLoose,o=i.initializerDefineProperty,t=i.assertThisInitialized,n=i.defineProperty},function(i){l=i.cclegacy,s=i._decorator,c=i.Vec3,a=i.BoxCollider,h=i.geometry,g=i.Component}],execute:function(){var d,u,p,f;l._RF.push({},"67424q1e5BCeaNMaxXDbIFS","ForceField",void 0);var b=s.ccclass,y=s.property,C=s.requireComponent,T=new c;i("ForceField",b("ForceField")(d=C(a)((p=e((u=function(i){function e(){for(var e,r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return e=i.call.apply(i,[this].concat(l))||this,o(t(e),"strength",p,t(e)),o(t(e),"direction",f,t(e)),n(t(e),"bounds",new h.AABB),n(t(e),"boxCollider",null),e}r(e,i);var l=e.prototype;return l.onLoad=function(){this.boxCollider=this.getComponent(a)},l.onEnable=function(){this.boxCollider.on("onTriggerEnter",this.onTrigger,this),this.boxCollider.on("onTriggerStay",this.onTrigger,this),this.boxCollider.on("onTriggerExit",this.onTrigger,this)},l.start=function(){this.node.children.length>0&&c.transformQuat(this.direction,c.UNIT_Z,this.node.children[0].worldRotation),this.bounds.copy(this.boxCollider.worldBounds)},l.onDisable=function(){this.boxCollider.off("onTriggerEnter",this.onTrigger,this),this.boxCollider.off("onTriggerStay",this.onTrigger,this),this.boxCollider.off("onTriggerExit",this.onTrigger,this)},l.onTrigger=function(i){var e=i.otherCollider.attachedRigidBody;e&&e.isDynamic&&e.applyForce(c.multiplyScalar(T,this.direction,this.strength))},e}(g)).prototype,"strength",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=e(u.prototype,"direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,1)}}),d=u))||d)||d);l._RF.pop()}}}));

System.register("chunks:///_virtual/StairsGenerator.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,o,a,i,l,c,s,d,u,p,f,h,_;return{setters:[function(e){r=e.defineProperty,t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){l=e.cclegacy,c=e._decorator,s=e.Prefab,d=e.PhysicsMaterial,u=e.loader,p=e.instantiate,f=e.Vec3,h=e.Collider,_=e.Component}],execute:function(){var g,y,b,v,m,w,z,C;l._RF.push({},"80ac5t9IotBIKCUyj3wfdGN","StairsGenerator",void 0);var P=c.ccclass,F=c.property;e("StairsGenerator",(g=P("StairsGenerator"),y=F(s),g((C=z=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r=e.call.apply(e,[this].concat(n))||this,o(a(r),"count",m,a(r)),o(a(r),"prefab",w,a(r)),r}n(r,e);var t=r.prototype;return t.__preload=function(){r._zeroFriction.friction=0;var e=r;null!==e._ladder||1&e._flag||(e._flag|=1,u.loadRes(e.url,s,(function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];t&&(t[0]?console.error(t[0]):(e._ladder=t[1],e._onloaded&&(e._onloaded.forEach((function(r){r(e._ladder)})),e._onloaded.length=0)))})))},t.start=function(){0==this.node.children.length&&(r._ladder?this.generator(r._ladder):r._onloaded.push(this.generator.bind(this)))},t.generator=function(e){for(var t=e.data.scale,n=0;n<this.count;n++){var o=p(e);this.node.addChild(o);var a=n+1;if(o.position=new f(0,t.y/2*(a+n),t.z/2*(a+n)),n==this.count-1)o.getComponent(h).material=r._zeroFriction}},i(r,[{key:"generate",get:function(){return this.node.destroyAllChildren(),0==this.node.children.length&&this.prefab,!1},set:function(e){}}]),r}(_),r(z,"url","common/prefabs/Ladder"),r(z,"_flag",0),r(z,"_ladder",null),r(z,"_onloaded",[]),r(z,"_zeroFriction",new d),m=t((v=C).prototype,"count",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=t(v.prototype,"prefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(v.prototype,"generate",[F],Object.getOwnPropertyDescriptor(v.prototype,"generate"),v.prototype),b=v))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/first-person-camera.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,n,s,r,a,c,h,d,y,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){r=e.cclegacy,a=e._decorator,c=e.math,h=e.macro,d=e.systemEvent,y=e.SystemEvent,l=e.Component}],execute:function(){var u,p,f,v,C,_,E,m,S;r._RF.push({},"83969PIqqtCzpmwWOBT+ujw","first-person-camera",void 0);var k=a.ccclass,w=a.property,T=a.menu,z=new c.Vec2,b=new c.Vec2,A=new c.Vec3,x=new c.Quat,V=new c.Vec3(0,0,1),g="W".charCodeAt(0),D="S".charCodeAt(0),M="A".charCodeAt(0),O="D".charCodeAt(0),K="Q".charCodeAt(0),P="E".charCodeAt(0),U="w".charCodeAt(0),W="s".charCodeAt(0),L="a".charCodeAt(0),H="d".charCodeAt(0),Q="q".charCodeAt(0),Y="e".charCodeAt(0),F=h.KEY.shift;e("FirstPersonCamera",(u=k("COMMON.FirstPersonCamera"),p=T("common/FirstPersonCamera"),f=w({slide:!0,range:[.05,.5,.01]}),u(v=p((_=t((C=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(n(t),"moveSpeed",_,n(t)),i(n(t),"moveSpeedShiftScale",E,n(t)),i(n(t),"damp",m,n(t)),i(n(t),"rotateSpeed",S,n(t)),s(n(t),"_euler",new c.Vec3),s(n(t),"_velocity",new c.Vec3),s(n(t),"_position",new c.Vec3),s(n(t),"_speedScale",1),t}o(t,e);var a=t.prototype;return a.onLoad=function(){c.Vec3.copy(this._euler,this.node.eulerAngles),c.Vec3.copy(this._position,this.node.position)},a.onDestroy=function(){this._removeEvents()},a.onEnable=function(){this._addEvents()},a.onDisable=function(){this._removeEvents()},a.update=function(e){c.Vec3.transformQuat(A,this._velocity,this.node.rotation),c.Vec3.scaleAndAdd(this._position,this._position,A,this.moveSpeed*this._speedScale),c.Vec3.lerp(A,this.node.position,this._position,e/this.damp),this.node.setPosition(A),c.Quat.fromEuler(x,this._euler.x,this._euler.y,this._euler.z),c.Quat.slerp(x,this.node.rotation,x,e/this.damp),this.node.setRotation(x)},a._addEvents=function(){d.on(y.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.on(y.EventType.KEY_DOWN,this.onKeyDown,this),d.on(y.EventType.KEY_UP,this.onKeyUp,this),d.on(y.EventType.TOUCH_MOVE,this.onTouchMove,this),d.on(y.EventType.TOUCH_END,this.onTouchEnd,this)},a._removeEvents=function(){d.off(y.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.off(y.EventType.KEY_DOWN,this.onKeyDown,this),d.off(y.EventType.KEY_UP,this.onKeyUp,this),d.off(y.EventType.TOUCH_MOVE,this.onTouchMove,this),d.off(y.EventType.TOUCH_END,this.onTouchEnd,this)},a.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed/24;c.Vec3.transformQuat(A,V,this.node.rotation),c.Vec3.scaleAndAdd(A,this.node.position,A,t),this.node.setPosition(A)},a.onKeyDown=function(e){var t=this._velocity;e.keyCode===F?this._speedScale=this.moveSpeedShiftScale:e.keyCode===g||e.keyCode===U?0===t.z&&(t.z=-1):e.keyCode===D||e.keyCode===W?0===t.z&&(t.z=1):e.keyCode===M||e.keyCode===L?0===t.x&&(t.x=-1):e.keyCode===O||e.keyCode===H?0===t.x&&(t.x=1):e.keyCode===K||e.keyCode===Q?0===t.y&&(t.y=-1):e.keyCode!==P&&e.keyCode!==Y||0===t.y&&(t.y=1)},a.onKeyUp=function(e){var t=this._velocity;e.keyCode===F?this._speedScale=1:e.keyCode===g||e.keyCode===U?t.z<0&&(t.z=0):e.keyCode===D||e.keyCode===W?t.z>0&&(t.z=0):e.keyCode===M||e.keyCode===L?t.x<0&&(t.x=0):e.keyCode===O||e.keyCode===H?t.x>0&&(t.x=0):e.keyCode===K||e.keyCode===Q?t.y<0&&(t.y=0):e.keyCode!==P&&e.keyCode!==Y||t.y>0&&(t.y=0)},a.onTouchMove=function(e){e.getStartLocation(z),z.x>.4*r.winSize.width?(e.getDelta(b),this._euler.y-=.5*b.x,this._euler.x+=.5*b.y):(e.getLocation(b),c.Vec2.subtract(b,b,z),this._velocity.x=.01*b.x,this._velocity.z=.01*-b.y)},a.onTouchEnd=function(e){e.getStartLocation(z),z.x<.4*r.winSize.width&&(this._velocity.x=0,this._velocity.z=0)},a.changeEnable=function(){this.enabled=!this.enabled},t}(l)).prototype,"moveSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(C.prototype,"moveSpeedShiftScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=t(C.prototype,"damp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),S=t(C.prototype,"rotateSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=C))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/debug-quad.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./unlit-quad.ts"],(function(t){"use strict";var u,n,o,e;return{setters:[function(t){u=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){e=t.UnlitQuadComponent}],execute:function(){var c;n._RF.push({},"865c7dzJ1FHObJqWDX+ZmNU","debug-quad",void 0);var r=o.ccclass;t("DebugQuad",r("DebugQuad")(c=function(t){function n(){return t.apply(this,arguments)||this}return u(n,t),n.prototype.onLoad=function(){t.prototype.onLoad.call(this)},n}(e))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/unlit-quad.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,o,n,s,a,p,u,c,l,h,d,y,f,g,_,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,s=e.createClass},function(e){a=e.cclegacy,p=e._decorator,u=e.gfx,c=e.Vec3,l=e.ccenum,h=e.SpriteFrame,d=e.Texture2D,y=e.CCBoolean,f=e.Material,g=e.utils,_=e.builtinResMgr,b=e.MeshRenderer}],execute:function(){var v,m,w,x,O,S,z,M,D,P,C,N,R,A,T,F;e("ResizeAxis",void 0),a._RF.push({},"93929O83pBANKoOxC3c/52n","unlit-quad",void 0);var k,j=p.ccclass,B=p.property,X=null,E=null,L=null,U=null,Y={effectName:"unlit",technique:0,defines:{USE_TEXTURE:!0},states:{rasterizerState:{cullMode:u.CullMode.NONE}}},H=[0,1,1,1,0,0,1,0],I={positions:[-.5,-.5,0,.5,-.5,0,-.5,.5,0,.5,.5,0],uvs:H,indices:[0,1,2,2,1,3],minPos:new c(-.5,-.5,0),maxPos:new c(.5,.5,0)},q={depthStencilState:{depthWrite:!1},blendState:{targets:[{blend:!0,blendSrc:u.BlendFactor.SRC_ALPHA,blendDst:u.BlendFactor.ONE_MINUS_SRC_ALPHA,blendDstAlpha:u.BlendFactor.ONE_MINUS_SRC_ALPHA}]}},V={depthStencilState:{depthWrite:!0},blendState:{targets:[{blend:!1}]}};!function(e){e[e.NONE=0]="NONE",e[e.X=1]="X",e[e.Y=2]="Y"}(k||(k=e("ResizeAxis",{}))),l(k);e("UnlitQuadComponent",(v=j("UnlitQuadComponent"),m=B(h),w=B(d),x=B({type:d}),O=B({type:h}),S=B({type:y}),z=B({type:y}),M=B({override:!0,visible:!1}),D=B({override:!0,visible:!1}),P=B({override:!0,visible:!1}),C=B({override:!0,visible:!1}),v((A=t((R=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,i(o(t),"_sprite",A,o(t)),i(o(t),"_texture",T,o(t)),i(o(t),"_transparent",F,o(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){U||((U=new f).initialize(Y),X=g.createMesh(I),E=X.struct.vertexBundles[0].view,L=X.data.buffer.slice(E.offset,E.offset+E.length)),this.material=U,this._mesh=X,e.prototype.onLoad.call(this),this.updateTexture(),this.transparent=this._transparent},a.updateTexture=function(){var e=this.material&&this.material.passes[0],t=e&&e.getBinding("mainTexture");if("number"==typeof t){var r=this._sprite?this._sprite:this._texture?this._texture:_.get("grey-texture");e.bindTexture(t,r.getGFXTexture());var i=this.model&&this.model.subModels[0],o=i&&i.inputAssembler;if(o){var s=H;this._sprite&&(this._sprite._calculateUV(),s=this._sprite.uv);for(var a,p=0,c=u.Format.UNKNOWN,l=n(o.attributes);!(a=l()).done;){var h=a.value;if(h.name===u.AttributeName.ATTR_TEX_COORD){c=h.format;break}p+=u.FormatInfos[h.format].size}var d=o.vertexBuffers[0];g.writeBuffer(new DataView(L),s,c,p,d.stride),d.update(L)}}},a.updateSizeRatio=function(e){var t=this._sprite?this._sprite:this._texture?this._texture:null,r=t?t.width/t.height:1,i=this.node.scale;switch(e){case k.X:this.node.setScale(i.y*r,i.y,i.z);break;case k.Y:this.node.setScale(i.x,i.x/r,i.z)}},s(t,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this.updateTexture()}},{key:"spriteFrame",get:function(){return this._sprite},set:function(e){this._sprite=e,this.updateTexture()}},{key:"resizeX",get:function(){return!1},set:function(e){this.updateSizeRatio(k.X)}},{key:"resizeY",get:function(){return!1},set:function(e){this.updateSizeRatio(k.Y)}},{key:"transparent",get:function(){return this._transparent},set:function(e){this._transparent=e,this.material.overridePipelineStates(e?q:V)}},{key:"sharedMaterials",get:function(){return e.prototype.sharedMaterials},set:function(e){this.sharedMaterials=e}},{key:"mesh",get:function(){return e.prototype.mesh},set:function(e){this.mesh=e}},{key:"shadowCastingMode",get:function(){return e.prototype.shadowCastingMode},set:function(e){this.shadowCastingMode=e}},{key:"receiveShadow",get:function(){return e.prototype.receiveShadow},set:function(e){this.receiveShadow=e}}]),t}(b)).prototype,"_sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"_texture",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(R.prototype,"texture",[x],Object.getOwnPropertyDescriptor(R.prototype,"texture"),R.prototype),t(R.prototype,"spriteFrame",[O],Object.getOwnPropertyDescriptor(R.prototype,"spriteFrame"),R.prototype),t(R.prototype,"resizeX",[S],Object.getOwnPropertyDescriptor(R.prototype,"resizeX"),R.prototype),t(R.prototype,"resizeY",[z],Object.getOwnPropertyDescriptor(R.prototype,"resizeY"),R.prototype),F=t(R.prototype,"_transparent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(R.prototype,"transparent",[B],Object.getOwnPropertyDescriptor(R.prototype,"transparent"),R.prototype),t(R.prototype,"sharedMaterials",[M],Object.getOwnPropertyDescriptor(R.prototype,"sharedMaterials"),R.prototype),t(R.prototype,"mesh",[D],Object.getOwnPropertyDescriptor(R.prototype,"mesh"),R.prototype),t(R.prototype,"shadowCastingMode",[P],Object.getOwnPropertyDescriptor(R.prototype,"shadowCastingMode"),R.prototype),t(R.prototype,"receiveShadow",[C],Object.getOwnPropertyDescriptor(R.prototype,"receiveShadow"),R.prototype),N=R))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/RigidCharacterAnimation.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RigidCharacter.ts","./RigidCharacterController.ts","./animation-data.ts"],(function(t){"use strict";var a,e,r,i,n,c,o,s,h,l,u,m,p,S,A,f,g,M;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,r=t.defineProperty,i=t.inheritsLoose,n=t.assertThisInitialized},function(t){c=t.cclegacy,o=t._decorator,s=t.Vec3,h=t.MeshRenderer,l=t.Vec4,u=t.Component},function(t){m=t.RigidCharacter},function(t){p=t.RigidCharacterController},function(t){S=t.SequenceAnimationInfo,A=t.fillCharacterParams,f=t.fillPlaneParams,g=t.CharacterStates,M=t.PlaneStates}],execute:function(){var d,I,y,P,b,D,C,G,N,w,R,v,z,L,x,_,F,T,E;c._RF.push({},"da08fpgnp9LvIlbyogdpVbD","RigidCharacterAnimation",void 0);var V=o.ccclass,q=o.property,H=o.menu,U=new s,j=(d=V("AnimationStateMachine"),I=q(h),y=q([S]),d((D=a((b=function(){e(this,"model",D,this),e(this,"animInfo",C,this),r(this,"state",0),r(this,"stagingParam",new l),r(this,"duration",1)}).prototype,"model",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=a(b.prototype,"animInfo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=b))||P);t("RigidCharacterAnimation",(G=V("Character.RigidCharacterAnimation"),N=H("demo/character/RigidCharacterAnimation"),w=q(m),R=q(p),v=q(j),z=q(j),G(L=N((_=a((x=function(t){function a(){for(var a,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return a=t.call.apply(t,[this].concat(i))||this,e(n(a),"character",_,n(a)),e(n(a),"characterController",F,n(a)),e(n(a),"characterASM",T,n(a)),e(n(a),"planeASM",E,n(a)),a}i(a,t);var r=a.prototype;return r.onLoad=function(){A(this.characterASM.animInfo),f(this.planeASM.animInfo)},r.update=function(t){this.character.getVelocity(U),this.setFrontDirection(this.characterASM.model.node,U.z),this.setFrontDirection(this.planeASM.model.node,U.z),this.characterASM.duration&&(this.characterASM.stagingParam.w+=t/this.characterASM.duration),this.characterASM.model.material.setProperty("seqAnimParams",this.characterASM.stagingParam),this.planeASM.duration&&(this.planeASM.stagingParam.w+=t/this.planeASM.duration),this.planeASM.model.material.setProperty("seqAnimParams",this.planeASM.stagingParam);var a=this.characterASM.animInfo[this.characterASM.state];a.nextState>=0&&this.characterASM.stagingParam.w>1&&this.setState(a.nextState),this.character.onGround?this.setState(g.RUNNING):1===this.characterController.isFlying?this.setState(g.GLIDING):this.setState(g.JUMPING)},r.setFrontDirection=function(t,a){var e=t.scale;t.setScale(Math.abs(e.x)*(a>.1?1:-1),e.y,e.z)},r.setState=function(t){var a=this.planeASM.state===M.GLIDING_END?M.GLIDING_END:M.HIDDEN;if(this.isPlaying(this.characterASM.animInfo,t,g.GLIDING)?a=M.GLIDING_START:this.isPlaying(this.characterASM.animInfo,this.characterASM.state,g.GLIDING)&&(a=M.GLIDING_END),!this.isPlaying(this.planeASM.animInfo,this.planeASM.state,a)){var e=this.planeASM.animInfo[a];this.planeASM.model.material.setProperty("mainTexture",e.texture),l.copy(this.planeASM.stagingParam,e.params),this.planeASM.duration=e.duration,this.planeASM.state=a}if(!this.isPlaying(this.characterASM.animInfo,this.characterASM.state,t)){var r=this.characterASM.animInfo[t];this.characterASM.model.material.setProperty("mainTexture",r.texture),l.copy(this.characterASM.stagingParam,r.params),this.characterASM.duration=r.duration,this.characterASM.state=t}},r.isPlaying=function(t,a,e){for(;a!==e;)if((e=t[e].nextState)<0)return!1;return!0},a}(u)).prototype,"character",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=a(x.prototype,"characterController",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=a(x.prototype,"characterASM",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),E=a(x.prototype,"planeASM",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),L=x))||L)||L));c._RF.pop()}}}));

System.register("chunks:///_virtual/animation-data.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,L,r,n,o,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,a=t.defineProperty},function(t){L=t.cclegacy,r=t._decorator,n=t.ccenum,o=t.Texture2D,O=t.Vec4}],execute:function(){var I,d,N,h,G,u,_;t({CharacterStates:void 0,PlaneStates:void 0,fillCharacterParams:function(t){for(var e=0;e<t.length;++e)f(C[e],t[e])},fillPlaneParams:function(t){for(var e=0;e<t.length;++e)f(l[e],t[e])}}),L._RF.push({},"ed505xHT6ZPtLSvoiC67epu","animation-data",void 0);var s,c,D,m=r.ccclass,P=r.property;!function(t){t[t.RUNNING=0]="RUNNING",t[t.JUMPING=1]="JUMPING",t[t.SLIDING=2]="SLIDING",t[t.SLIDING_LOOP=3]="SLIDING_LOOP",t[t.GLIDING=4]="GLIDING",t[t.GLIDING_LOOP=5]="GLIDING_LOOP"}(s||(s=t("CharacterStates",{}))),n(s),function(t){t[t.HIDDEN=0]="HIDDEN",t[t.GLIDING_START=1]="GLIDING_START",t[t.GLIDING_END=2]="GLIDING_END"}(c||(c=t("PlaneStates",{}))),n(c),function(t){t[t.LOCAL_LOOP=0]="LOCAL_LOOP",t[t.LOCAL_ONCE=1]="LOCAL_ONCE",t[t.GLOBAL_LOOP=2]="GLOBAL_LOOP"}(D||(D={}));t("SequenceAnimationInfo",(I=m("SequenceAnimationInfo"),d=P(o),I((G=e((h=function(){i(this,"texture",G,this),a(this,"params",new O(4.1,4,D.LOCAL_LOOP,0)),a(this,"duration",1),a(this,"nextState",-1)}).prototype,"texture",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=h))||N));var C=((u={})[s.RUNNING]={width:4,height:1,mode:D.GLOBAL_LOOP,duration:.5},u[s.JUMPING]={width:4,height:2,mode:D.LOCAL_ONCE},u[s.SLIDING]={width:5,height:1,mode:D.LOCAL_ONCE,nextState:s.SLIDING_LOOP},u[s.SLIDING_LOOP]={width:2,height:1,mode:D.LOCAL_LOOP},u[s.GLIDING]={width:2,height:2,mode:D.LOCAL_ONCE,duration:.5,nextState:s.GLIDING_LOOP},u[s.GLIDING_LOOP]={width:5,height:4,frames:19,mode:D.LOCAL_LOOP,duration:2},u),l=((_={})[c.HIDDEN]={width:3,height:6,mode:D.LOCAL_ONCE,startFrom:1,duration:0},_[c.GLIDING_START]={width:3,height:6,mode:D.LOCAL_ONCE,startFrom:1,duration:-.5},_[c.GLIDING_END]={width:3,height:6,mode:D.LOCAL_ONCE,duration:.5},_);function f(t,e){var i=void 0!==t.duration?t.duration:1,a=void 0!==t.mode?t.mode:D.LOCAL_LOOP,L=void 0!==t.frames?t.frames:t.width*t.height,r=void 0!==t.startFrom?t.startFrom:0,n=void 0!==t.nextState?t.nextState:-1;e.params.x=t.width+.1*t.height,e.params.y=L,e.params.z=a,e.params.w=a===D.GLOBAL_LOOP?i:r,e.duration=a===D.GLOBAL_LOOP?0:i,e.nextState=n}L._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ContactPointHelper.ts","./RigidCharacter.ts","./RigidCharacterController.ts","./AxisHelper.ts","./ForceField.ts","./StairsGenerator.ts","./first-person-camera.ts","./unlit-quad.ts","./debug-quad.ts","./animation-data.ts","./RigidCharacterAnimation.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});